(function(t){function e(e){for(var n,o,u=e[0],i=e[1],c=e[2],d=0,p=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,u=1;u<s.length;u++){var i=s[u];0!==r[i]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},r={app:0},a=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=i;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("85ec"),r=s.n(n);r.a},"05b3":function(t,e,s){},"226b":function(t,e,s){"use strict";var n=s("05b3"),r=s.n(n);r.a},"372d":function(t,e,s){},"561a":function(t,e,s){"use strict";var n=s("8026"),r=s.n(n);r.a},"56d7":function(t,e,s){"use strict";s.r(e);var n=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},a=[],o=(s("034f"),s("2877")),u={},i=Object(o["a"])(u,r,a,!1,null,null,null),c=i.exports,l=s("8c4f"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("friend-list",{attrs:{userId:t.userId}}),s("chat")],1)},p=[],f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"friendList"},[s("h1",[t._v("Friends:")]),s("ul",t._l(t.friends,(function(e){return s("li",{key:e.userId},[t._v(t._s(e.username))])})),0)])},h=[],m=s("bc3a"),g=s.n(m),b={props:["userId"],data:function(){return{friends:[]}},watch:{userId:function(){this.loadFriends()}},created(t){this.loadFriends()},methods:{loadFriends:function(){""!=this.userId&&g.a.get("http://localhost:3001/users/"+this.userId+"/friends").then(t=>{this.friends=t.data})}}},v=b,w=(s("e8e5"),Object(o["a"])(v,f,h,!1,null,"3ac4152b",null)),y=w.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat"},[s("div",{staticClass:"messages"}),s("div",{staticClass:"messageInput"},[s("div",{staticClass:"inputbox"},[s("el-input",{attrs:{type:"text"}})],1),s("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:""}})],1)])},I=[],x={},C=x,O=(s("dd3b"),Object(o["a"])(C,_,I,!1,null,"5ed95ca8",null)),j=O.exports,S={name:"Home",components:{FriendList:y,Chat:j},data:function(){return{userId:"",username:""}},created(){try{this.userId=localStorage.getItem("userId"),this.username=localStorage.getItem("username")}catch{console.log("Error accessing to localStorage!")}this.userId&&this.username||this.$router.push("login")}},k=S,$=(s("561a"),Object(o["a"])(k,d,p,!1,null,"7fb84301",null)),P=$.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-5"},[s("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[s("el-col",{attrs:{lg:8,md:10,sm:12,xs:20}},[s("h1",{staticClass:"py-5 text-center"},[t._v("Login")]),s("el-input",{staticClass:"mt-3",attrs:{placeholder:"username",clearable:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("el-input",{staticClass:"mt-3",attrs:{placeholder:"password","show-password":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("el-row",{staticClass:"mt-3",attrs:{gutter:17}},[s("el-col",{attrs:{span:12}},[s("el-button",{staticClass:"myButton",attrs:{type:"primary",size:"medium",plain:""},on:{click:function(e){return t.login()}}},[t._v("Login")])],1),s("el-col",{attrs:{span:12}},[s("el-button",{staticClass:"myButton",attrs:{type:"success",size:"medium",plain:""},on:{click:function(e){return t.register()}}},[t._v("Register")])],1)],1)],1)],1)],1)},L=[],F={data:function(){return{username:"",password:""}},methods:{login:function(){g.a.post("http://localhost:3001/login",{username:this.username,password:this.password}).then(t=>{if(200===t.status){let e=t.data;console.log("Logged in: "+e.username),localStorage.setItem("username",e.username),localStorage.setItem("userId",e._id),this.$router.push("/")}}).catch(t=>this.wrongCredentials())},register:function(){g.a.post("http://localhost:3001/register",{username:this.username,password:this.password}).then(t=>{if(200===t.status){let e=t.data;console.log("Registered: "+e.username),localStorage.setItem("username",e.username),localStorage.setItem("userId",e._id),this.$router.push("/")}}).catch(t=>this.usernameInUse())},wrongCredentials:function(){this.password=""},usernameInUse:function(){this.password="",this.username=""}}},M=F,T=(s("226b"),Object(o["a"])(M,E,L,!1,null,"0d17a4e6",null)),z=T.exports;n["default"].use(l["a"]);const B=[{path:"/",name:"Home",component:P},{path:"/login",name:"Login",component:z}],H=new l["a"]({mode:"history",routes:B});var J=H,R=s("2f62");n["default"].use(R["a"]);var U=new R["a"].Store({state:{},mutations:{},actions:{},modules:{}}),q=(s("4989"),s("ab8b"),s("29d7")),A=s.n(q);s("8a41");n["default"].use(A.a),n["default"].config.productionTip=!1,new n["default"]({router:J,store:U,render:function(t){return t(c)}}).$mount("#app")},8026:function(t,e,s){},"85ec":function(t,e,s){},c0bc:function(t,e,s){},dd3b:function(t,e,s){"use strict";var n=s("372d"),r=s.n(n);r.a},e8e5:function(t,e,s){"use strict";var n=s("c0bc"),r=s.n(n);r.a}});
//# sourceMappingURL=app.d125df96.js.map